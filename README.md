# üìà CryptoTrendReader

**CryptoTrendReader** ‚Äî —ç—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ —Å —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏ –±–∏—Ä–∂–∏ **Deribit**. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ UI —Å –ø–æ–º–æ—â—å—é **Yandex DivKit**, –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **Ktor WebSockets** –∏ –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.

–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –¥–ª—è:
*   –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∏–∑—É—á–∞—é—â–∏—Ö Server-Driven UI (SDUI) —Å DivKit.
*   –≠–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, –∂–µ–ª–∞—é—â–∏—Ö –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ç—Ä–µ–π–¥–∏–Ω–≥–æ–≤—ã–µ –∏–¥–µ–∏.
*   –í—Å–µ—Ö, –∫—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–µ–∫–æ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π Android –Ω–∞ Kotlin.

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   üìä **–ü–æ—Ç–æ–∫–æ–≤—ã–µ –∫–æ—Ç–∏—Ä–æ–≤–∫–∏ Deribit:** –ü—Ä—è–º–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª `ticker.<instrument>.100ms` —á–µ—Ä–µ–∑ WebSocket —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π heartbeat –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. ([Deribit WebSocket API][2])
*   üîÑ **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–º–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:** –ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ —Ç–∏–∫–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BTC-PERPETUAL`, `ETH-PERPETUAL`) –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –Ω–æ–≤—ã–º –ø–æ—Ç–æ–∫–æ–º —Ü–µ–Ω –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   üß† **–õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:** –†–∞—Å—á–µ—Ç –Ω–∞–∫–ª–æ–Ω–∞ —Ç—Ä–µ–Ω–¥–∞ (slope), –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ —Å—Ä–µ–¥–Ω–µ–π –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –æ—à–∏–±–∫–∏ (MAE) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ 10 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Kotlin Coroutines. ([Kotlin Coroutines][3])
*   üì± **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π UI –Ω–∞ DivKit:** –í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è JSON-—à–∞–±–ª–æ–Ω–æ–º. –°–æ—Å—Ç–æ—è–Ω–∏–µ UI —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –ø–æ–∑–≤–æ–ª—è—è –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ "–Ω–∞ –ª–µ—Ç—É" –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è View. ([DivKit][4])
*   üìâ **SVG –°–ø–∞—Ä–∫–ª–∞–π–Ω:** –ì—Ä–∞—Ñ–∏–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ü–µ–Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ Inline-SVG, –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ Base64 Data URI –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é **Coil 3**. ([Coil SVG][7])
*   üèóÔ∏è **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫:**
    *   **Dependency Injection:** Koin –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. ([Koin][9])
    *   **–°–µ—Ç—å:** Ktor Client –¥–ª—è HTTP –∏ WebSocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π. ([Ktor WebSockets][8])
    *   **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** Kotlin Coroutines –∏ Flow –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

---

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –û–±–ª–∞—Å—Ç—å              | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                                                        |
| -------------------- | ----------------------------------------------------------------- |
| –Ø–∑—ã–∫                 | Kotlin                                                            |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ UI       | Server-Driven UI (SDUI)                                           |
| –§—Ä–µ–π–º–≤–æ—Ä–∫ UI         | **Yandex DivKit** ([DivKit GitHub][1])                            |
| –°–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ | **Ktor Client** (CIO Engine) + WebSocket –ø–ª–∞–≥–∏–Ω ([Ktor][8])       |
| –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å        | Kotlin Coroutines / Flow ([Kotlin Coroutines][3])                 |
| –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | **Coil 3** (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SVG, GIF) ([Coil GitHub][6], [Coil SVG][7]) |
| –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | **Koin** ([Koin Android][9])                                        |
| –î–∏–∑–∞–π–Ω –∏ —Å—Ç–∏–ª—å       | Material Design 3 (XML Layouts & Styles) ([Material 3][5])        |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ          | Timber + SLF4J-NOP                                                |
| –°–±–æ—Ä–∫–∞               | Gradle —Å Kotlin DSL                                               |

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/mmkolpakov/MIPT_SPC_CryptoTrendReader.git
    cd CryptoTrendReader
    ```
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –≤ Android Studio.
    *   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω **JDK 21**.
    *   `compileSdk = 35`, `minSdk = 26`.
3.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏–ª–∏ —ç–º—É–ª—è—Ç–æ—Ä–µ (API 26+).
    *   üîë API-–∫–ª—é—á–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Ç–∏ **Deribit TestNet** (`wss://test.deribit.com/ws/api/v2`). ([Deribit API Docs][2])

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```
app/
 ‚îú‚îÄ src/main/
 ‚îÇ   ‚îú‚îÄ assets/templates/    # JSON-—à–∞–±–ª–æ–Ω—ã –¥–ª—è DivKit UI
 ‚îÇ   ‚îú‚îÄ java/
 ‚îÇ   ‚îÇ   ‚îî‚îÄ .../cryptotrendreader/
 ‚îÇ   ‚îÇ        ‚îú‚îÄ core/        # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (RingBuffer, CoilDivImageLoader, IOUtils)
 ‚îÇ   ‚îÇ        ‚îú‚îÄ data/        # –£—Ä–æ–≤–µ–Ω—å –¥–∞–Ω–Ω—ã—Ö (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, DeribitApi, DeribitWs)
 ‚îÇ   ‚îÇ        ‚îú‚îÄ di/          # Koin-–º–æ–¥—É–ª–∏ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
 ‚îÇ   ‚îÇ        ‚îú‚îÄ domain/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (UseCase'—ã, –º–æ–¥–µ–ª–∏, TrendCalculator)
 ‚îÇ   ‚îÇ        ‚îî‚îÄ ui/          # UI-—Å–ª–æ–π (ViewModel, —Å–≤—è–∑–∫–∞ —Å DivKit)
 ‚îÇ   ‚îî‚îÄ res/                   # –†–µ—Å—É—Ä—Å—ã Android (drawable, layout, values)
 ‚îî‚îÄ build.gradle.kts           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –º–æ–¥—É–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

---

## ü§ù –•–æ—Ç–∏—Ç–µ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥?

Pull Request'—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –≤–∫–ª–∞–¥–∞:

*   ‚ú® –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤.
*   ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è SVG-–≥—Ä–∞—Ñ–∏–∫–∞.
*   üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –±–∏—Ä–∂–∞–º–∏ (OKX, Bybit, Binance Testnet).
*   üé® –î–∞–ª—å–Ω–µ–π—à–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ UI/UX –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Material 3.
*   üß™ –ù–∞–ø–∏—Å–∞–Ω–∏–µ Unit –∏ UI —Ç–µ—Å—Ç–æ–≤.

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º Pull Request, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
*   –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω: `./gradlew ktlintFormat`
*   –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç –ø—Ä–æ–±–ª–µ–º: `./gradlew detekt`
*   –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.

---

[1]: https://github.com/divkit/divkit "DivKit GitHub"
[2]: https://docs.deribit.com/ "Deribit API Documentation"
[3]: https://kotlinlang.org/docs/coroutines-overview.html "Kotlin Coroutines Overview"
[4]: https://divkit.tech/ "DivKit Official Site"
[5]: https://m3.material.io/develop/android/overview "Material Design 3 for Android"
[6]: https://github.com/coil-kt/coil "Coil GitHub"
[7]: https://coil-kt.github.io/coil/svgs/ "Coil SVG Support"
[8]: https://ktor.io/docs/client-landing.html "Ktor Client"
[9]: https://insert-koin.io/ "Koin Official Site"
